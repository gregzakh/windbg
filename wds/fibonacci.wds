.push /r /q

.block {
  .catch {
    .if 0 == ${/d:$arg1} {
      .printf "Usage: $$>a<fibonacci.wds <number>\n"
      .leave
    }

    .if 0n92 < ${$arg1} {
      .printf "Error: index is out of range (limited by 0n92).\n"
      .leave
    }

    r $t0 = ${$arg1}
    r $t1 = 0
    r $t2 = 1

    .while (@$t0 - 1) {
      r $t0 = @$t0 - 1
      r $t3 = @$t1 + @$t2
      r $t1 = @$t2
      r $t2 = @$t3
    }

    ? @$t2
  }
}

.pop /r /q
